webpackJsonp([14],{826:function(e,t,s){"use strict";var a=s(520).default,i=s(521).default,o=s(558).default,n=s(559).default,p=s(595).default,r=s(299),l=function(e){function t(s){o(this,t);var a=n(this,e.call(this,s));return a.handleClick=a.handleClick.bind(a),a}return p(t,e),t.prototype.handleClick=function(){"function"==typeof this.props.onClick?this.props.onClick():this.state.s?this.setState({s:!1}):this.setState({s:!0})},t.prototype.render=function(){var e=i({},this.props);return delete e.v,delete e.s,delete e.style,r.createElement("div",{style:this.props.style,className:"checkBoxArea"},r.createElement("input",a({},e,{type:"checkbox",className:this.props.s?"checkBoxBtn s1":"checkBoxBtn",checked:this.props.s,value:this.props.v,onClick:this.handleClick})),r.createElement("div",null))},t}(r.Component);l.propTypes={name:r.PropTypes.string.isRequired,s:r.PropTypes.bool.isRequired,v:r.PropTypes.string.isRequired},l.defaultProps={name:"",s:!1,v:""},e.exports=l},828:function(e,t,s){"use strict";var a=s(558).default,i=s(559).default,o=s(595).default,n=s(299),p=s(518),r=p.Button,l=function(e){function t(s){a(this,t);var o=i(this,e.call(this,s));return o.handleClick=o.handleClick.bind(o),o.handCancel=o.handCancel.bind(o),o}return o(t,e),t.prototype.handleClick=function(){"function"==typeof this.props.onSubmit&&this.props.onSubmit()},t.prototype.handCancel=function(){"function"==typeof this.props.onCancel&&this.props.onCancel()},t.prototype.render=function(){var e=this,t=[];return this.props.btns.length&&this.props.btns.map(function(s,a){t.push(n.createElement(r,{key:a,bsStyle:0===a?"primary":"default",onClick:s.type?e.handleClick:e.handCancel},s.text))}),n.createElement("div",{className:"tipsBg"},n.createElement("div",{className:"tipsBox"},n.createElement("div",{className:"tips "+this.props.className},n.createElement("div",{className:"tipsTitle"},this.props.title),n.createElement("div",{className:"tipsContext"},this.props.text),n.createElement("div",{className:"tipsBtnArea"},t))))},t}(n.Component);l.propTypes={className:n.PropTypes.string.isRequired,title:n.PropTypes.string.isRequired,text:n.PropTypes.string.isRequired,btns:n.PropTypes.array.isRequired},l.defaultProps={className:"",title:"提示",text:"",btns:[{text:"确定",type:1},{text:"取消",type:0}]},e.exports=l},844:function(e,t,s){"use strict";var a=s(520).default,i=s(774).default,o=s(558).default,n=s(559).default,p=s(595).default,r=s(299),l=s(799),c=s(326),h=(c.findDOMNode,s(463)),d=h.Link,u=h.hashHistory,m=s(518),y=m.Button,w=m.Table,f=(s(826),s(845)),v=s(828);s(847),l.defineReact(r);var S=function(e){function t(s){o(this,t);var a=n(this,e.call(this,s));return a.state={s:!1,s0:!1,s1:!1},a.handleClick=a.handleClick.bind(a),a.showOrHidApiKey=a.showOrHidApiKey.bind(a),a.showOrHidSecretKey=a.showOrHidSecretKey.bind(a),a.del=a.del.bind(a),a.del1=a.del1.bind(a),a.cancel=a.cancel.bind(a),a.submit=a.submit.bind(a),a.setMessageInfo=a.setMessageInfo.bind(a),a.reSecretKey=a.reSecretKey.bind(a),a}return p(t,e),t.prototype.componentWillReceiveProps=function(e){e.data!=this.props.data&&this.setState({s:!1,s0:!1,s1:!1})},t.prototype.handleClick=function(){this.state.s?(window.GLOBAL.action.myApps.del(this.props.data),this.setState({s:!1})):(window.GLOBAL.action.myApps.add(this.props.data),this.setState({s:!0}))},t.prototype.showOrHidApiKey=function(){this.state.s0?this.setState({s0:!1}):this.setState({s0:!0})},t.prototype.showOrHidSecretKey=function(){this.state.s1?this.setState({s1:!1}):this.setState({s1:!0})},t.prototype.setMessageInfo=function(){window.GLOBAL.action.myApps.saveInfo()},t.prototype.reSecretKey=function(){window.GLOBAL.action.myApps.showTips(1,this.props.appId)},t.prototype.del=function(){window.GLOBAL.action.myApps.showTips(2,this.props.appId)},t.prototype.del1=function(){window.GLOBAL.action.myApps.showTips(4,this.props.appId)},t.prototype.cancel=function(){window.GLOBAL.action.myApps.cancel(this.props.appId)},t.prototype.submit=function(){window.GLOBAL.action.myApps.submit(this.props.appId)},t.prototype.render=function(){var e=this,t=window.GLOBAL.pageData.myApps;return r.createElement("td",{className:this.props.className},"title"===this.props.showKeyName?r.createElement(d,{className:"link",title:this.props.data.text,to:"/myAppsDetail/"+this.props.data.url,onClick:this.setMessageInfo},r.createElement("div",{className:"ShowTxt"},this.props.data.text)):"parms"===this.props.showKeyName?r.createElement("div",{className:"lineBox"},r.createElement("div",{className:"line"},r.createElement("div",{className:"t1 fl"},"API Key: "),r.createElement("div",{className:"t2 fl",style:{maxWidth:"265px",overflow:"hidden"}},this.state.s0?this.props.data.apiKey:t.hid),r.createElement("div",{className:this.state.s0?"icon-eye fl":"icon-eye-close fl",onClick:this.showOrHidApiKey})),r.createElement("div",{className:"line"},r.createElement("div",{className:"t1 fl"},"Secret Key: "),r.createElement("div",{className:"t2 fl",style:{maxWidth:"265px",overflow:"hidden"}},this.state.s1?""!==this.props.reSecretKey?this.props.reSecretKey:this.props.data.secretKey:t.hid),r.createElement("div",{className:this.state.s1?"icon-eye fl":"icon-eye-close fl",onClick:this.showOrHidSecretKey}),1===this.props.status||5===this.props.status||6===this.props.status||7===this.props.status?r.createElement("div",{className:"icon-reApiKey fl",onClick:this.reSecretKey}):"")):"btns"===this.props.showKeyName?this.props.data.map(function(t,s){return 2===e.props.status?r.createElement(d,{key:s},t.text):1===t.type&&"撤回"===t.text?r.createElement(d,{className:"green",key:s,onClick:e.cancel},t.text):1===t.type&&"提交"===t.text?r.createElement(d,{className:"green",key:s,onClick:e.submit},t.text):1===t.type&&"删除"===t.text&&5===e.props.status?r.createElement(d,{className:"green",key:s,onClick:e.del1},t.text):1===t.type&&"删除"===t.text?r.createElement(d,{className:"green",key:s,onClick:e.del},t.text):3===t.type&&"修改"===t.text?r.createElement(d,{className:"green",to:"/myAppsModify/"+t.url,key:s},t.text):""}):"status"===this.props.showKeyName?t.status.map(function(t,s){return t.value===e.props.data?t.text:""}):"date"===this.props.showKeyName?r.createElement("div",{className:"blockTxt"},this.props.data):this.props.data)},t}(r.Component),g=function(e){function t(){return o(this,t),n(this,e.apply(this,arguments))}return p(t,e),t.prototype.render=function(){var e=this;return r.createElement("tr",{className:this.props.className},this.props.showKey.map(function(t,s){return r.createElement(S,{key:s,data:e.props.data[t],status:e.props.data.status,appId:e.props.data.delCheck,showKeyName:t,className:"th"+s,reSecretKey:"parms"===t?e.props.reSecretKey:""})}))},t}(r.Component),N=function(e){function t(s){o(this,t);var a=n(this,e.call(this,s));return a.state={s:0},a}return p(t,e),t.prototype.componentWillReceiveProps=function(e){e.data!=this.props.data&&this.setState({s:2})},t.prototype.render=function(){var e=this;return r.createElement("div",{className:"delList"},r.createElement(w,{striped:!0,hover:!0,responsive:!0,className:"basicList"},r.createElement("thead",null,r.createElement("tr",null,this.props.title.map(function(e,t){return r.createElement("th",{className:"th"+t,key:t},e)}))),r.createElement("tbody",null,this.props.data.length?this.props.data.map(function(t,s){return r.createElement(g,{data:t,key:s,showKey:e.props.showKey,className:s%2===0?"bgGray":"",reSecretKey:t.delCheck===e.props.showId?e.props.reSecretKey:""})}):r.createElement("tr",null,r.createElement("td",{className:"noData",colSpan:this.props.title.length},this.props.noDataTips)))))},t}(r.Component);N.propTypes={title:r.PropTypes.array.isRequired,showKey:r.PropTypes.array.isRequired,data:r.PropTypes.array.isRequired,noDataTips:r.PropTypes.string.isRequired},N.defaultProps={title:[],showKey:[],data:[],noDataTips:"暂无数据"};var A=function(e){function t(s){o(this,t);var a=n(this,e.call(this,s));return a.state={isShowNew:0,data:a.props.data,reSecretKey:""},a.store=window.GLOBAL.store.myApps,a.handleSelect=a.handleSelect.bind(a),a.handleDelAll=a.handleDelAll.bind(a),a.handleCancel=a.handleCancel.bind(a),a.handleShowTips=a.handleShowTips.bind(a),a.changeSecretKey=a.changeSecretKey.bind(a),a.setMessageInfo=a.setMessageInfo.bind(a),a.showTips=a.showTips.bind(a),a.goToCertification=a.goToCertification.bind(a),a}return p(t,e),t.prototype.componentDidMount=function(){window.GLOBAL.action.myApps.init();var e={pageNow:this.state.pageNow,token:window.GLOBAL.token};window.GLOBAL.ajaxMap.setParms("myApps",e);var t=window.GLOBAL.ajaxMap.getAjaxParms("myApps");t.success=function(e){this.setState({totalPage:e.totalPage,data:e.data,isShowNew:e.isShowNew,reSecretKey:""})}.bind(this),$.ajax(t)},t.prototype.componentDidUpdate=function(e,t){if(e.children&&!this.props.children){window.GLOBAL.action.myApps.init();var s={pageNow:this.state.pageNow,token:window.GLOBAL.token};window.GLOBAL.ajaxMap.setParms("myApps",s);var a=window.GLOBAL.ajaxMap.getAjaxParms("myApps");a.success=function(e){this.setState({totalPage:e.totalPage,data:e.data,isShowNew:e.isShowNew,reSecretKey:""})}.bind(this),$.ajax(a)}else if(1===this.state.eventType){var i={submitId:this.state.appId,token:window.GLOBAL.token};window.GLOBAL.ajaxMap.setParms("submitMyApps",i);var o=window.GLOBAL.ajaxMap.getAjaxParms("submitMyApps");o.success=function(e){3===e.code?window.GLOBAL.ajaxMap.checkError(e.codeStatus,u):e.code&&this.handleSelect(this.state.pageNow)}.bind(this),$.ajax(o)}else if(2===this.state.eventType){var n={cancelId:this.state.appId,token:window.GLOBAL.token};window.GLOBAL.ajaxMap.setParms("cancelMyApps",n);var p=window.GLOBAL.ajaxMap.getAjaxParms("cancelMyApps");p.success=function(e){3===e.code?window.GLOBAL.ajaxMap.checkError(e.codeStatus,u):e.code&&this.handleSelect(this.state.pageNow)}.bind(this),$.ajax(p)}},t.prototype.handleSelect=function(e){var t={pageNow:e,token:window.GLOBAL.token};window.GLOBAL.action.myApps.init(),window.GLOBAL.ajaxMap.setParms("myApps",t);var s=window.GLOBAL.ajaxMap.getAjaxParms("myApps");s.success=function(t){this.setState({pageNow:e,totalPage:t.totalPage,data:t.data,isShowNew:t.isShowNew,reSecretKey:""})}.bind(this),$.ajax(s)},t.prototype.handleDelAll=function(){var e={delId:i(this.state.delId),token:window.GLOBAL.token};window.GLOBAL.ajaxMap.setParms("delMyApps",e);var t=window.GLOBAL.ajaxMap.getAjaxParms("delMyApps");t.success=function(e){3===e.code?window.GLOBAL.ajaxMap.checkError(e.codeStatus,u):e.code&&this.handleSelect(this.state.pageNow)}.bind(this),$.ajax(t)},t.prototype.handleCancel=function(){this.setState({showTips:0})},t.prototype.handleShowTips=function(){this.setState({showTips:2})},t.prototype.changeSecretKey=function(){var e={appId:this.state.showId,token:window.GLOBAL.token};window.GLOBAL.ajaxMap.setParms("reSecretKey",e);var t=window.GLOBAL.ajaxMap.getAjaxParms("reSecretKey");t.success=function(e){3===e.code?window.GLOBAL.ajaxMap.checkError(e.codeStatus,u):e.code&&this.setState({reSecretKey:e.secretKey,showTips:0})}.bind(this),$.ajax(t)},t.prototype.setMessageInfo=function(){window.GLOBAL.action.myApps.saveInfo()},t.prototype.showTips=function(){this.setState({showTips:3})},t.prototype.goToCertification=function(){var e=window.GLOBAL.oldUrl[window.GLOBAL.pageData.leftMenu.item3.child[2].key],t=e.url,s=void 0,a=void 0,i=void 0;e&&e.leftStatus&&(s=e.leftStatus),e&&e.frameUrl&&(a=e.frameUrl),e&&e.type&&(i=e.type),"string"==typeof t&&("string"==typeof i&&"_blank"===i?window.open(t):("string"==typeof s&&(sessionStorage.leftStatus=s,"string"==typeof a&&(sessionStorage.frameUrl=encodeURIComponent(a))),window.location.href=t))},t.prototype.render=function(){var e=window.GLOBAL.pageData.myApps,t=void 0;if(!this.props.children){var s=void 0;if(1===this.state.showTips)s=r.createElement(v,{className:e.reSecretKey.className,onSubmit:this.changeSecretKey,onCancel:this.handleCancel,text:e.reSecretKey.text});else if(2===this.state.showTips)s=r.createElement(v,{className:e.del.className,onSubmit:this.handleDelAll,onCancel:this.handleCancel,text:e.del.text});else if(4===this.state.showTips)s=r.createElement(v,{className:e.del1.className,onSubmit:this.handleDelAll,onCancel:this.handleCancel,text:e.del1.text});else if(3===this.state.showTips){var i=window.GLOBAL.pageData.myServer;s=r.createElement(v,a({},i.Unautherized,{onSubmit:this.goToCertification,onCancel:this.handleCancel}))}t=r.createElement("div",{className:"myApps"},r.createElement("div",{className:"MainTitle"},r.createElement("h1",null,e.title),this.state.isShowNew?r.createElement(d,{to:"/myAppsAdd",role:"button",className:"btn btn-success",onClick:this.setMessageInfo},"新建应用"):r.createElement(y,{bsStyle:"success",onClick:this.showTips},"新建应用")),r.createElement("div",{className:"whiteSpace"},r.createElement(N,{title:this.props.title,data:this.state.data,showKey:this.props.showKey,showId:this.state.showId,reSecretKey:this.state.reSecretKey}),r.createElement("div",null,r.createElement(f,{totalPage:this.state.totalPage,maxPage:3,pageNow:this.state.pageNow,onSelect:this.handleSelect,onSearch:this.handleSelect}))),s)}return r.createElement("div",null,t,this.props.children)},t}(l.Component);A.propTypes={title:r.PropTypes.array.isRequired,showKey:r.PropTypes.array.isRequired,data:r.PropTypes.array.isRequired},A.defaultProps={title:window.GLOBAL.pageData.myApps.listTitle,showKey:window.GLOBAL.pageData.myApps.showKey,data:[]},e.exports=A},845:function(e,t,s){"use strict";var a=s(558).default,i=s(559).default,o=s(595).default,n=s(299),p=s(326),r=p.findDOMNode,l=s(463),c=(l.Link,s(518)),h=c.Pagination,d=c.DropdownButton,u=c.MenuItem,m=c.Button,y=s(846),w=function(e){function t(s){a(this,t);var o=i(this,e.call(this,s));return o.state={pageNow:o.props.pageNow,i:o.props.pageList.i},o.handleSelect=o.handleSelect.bind(o),o.handleSearch=o.handleSearch.bind(o),o.handleSelectItem=o.handleSelectItem.bind(o),o._setInputVal=o._setInputVal.bind(o),o}return o(t,e),t.prototype.componentWillReceiveProps=function(e){e.pageNow!=this.state.pageNow&&e.i!=this.state.i?this.setState({pageNow:e.pageNow,i:e.i}):e.pageNow!=this.state.pageNow?this.setState({pageNow:e.pageNow}):e.i!=this.state.i&&this.setState({i:e.i})},t.prototype._setInputVal=function(e){e.state.v||e.setState({v:this.state.pageNow})},t.prototype.handleSelect=function(e){this.state.pageNow!=e&&("function"==typeof this.props.onSelect?this.props.onSelect(e):this.setState({pageNow:e}))},t.prototype.handleSearch=function(){var e=r(this),t=$(e).find("input.pageInput").val();1*t&&this.state.pageNow!=1*t&&("function"==typeof this.props.onSearch?this.props.onSearch(1*t):this.setState({pageNow:t}))},t.prototype.handleSelectItem=function(e){var t=1*e;t!=this.state.i&&("function"==typeof this.props.onSelectItem?this.props.onSelectItem(t):this.setState({i:t}))},t.prototype.render=function(){var e=this,t=void 0;return this.props.isShow&&(t=n.createElement(d,null,this.props.pageList.a.map(function(t,s){return n.createElement(u,{eventKey:s,key:s,onSelect:e.handleSelectItem},t.t)}))),n.createElement("div",{className:"pageArea"},t,n.createElement(h,{prev:!0,next:!0,items:this.props.totalPage,maxButtons:this.props.maxPage,activePage:this.state.pageNow,onSelect:this.handleSelect,className:"basicPagination"}),n.createElement("div",{className:"pageText"},"共 ",this.props.totalPage,"页 到第"),n.createElement(y,{type:"positiveInt",maxValue:this.props.totalPage,className:"pageInput",v:this.state.pageNow,onBlur:this._setInputVal}),n.createElement("div",{className:"pageText"},"页"),n.createElement(m,{onClick:this.handleSearch},"确定"))},t}(n.Component);w.propTypes={isShow:n.PropTypes.bool.isRequired,totalPage:n.PropTypes.number.isRequired,maxPage:n.PropTypes.number.isRequired,pageNow:n.PropTypes.number.isRequired,pageList:n.PropTypes.object.isRequired},w.defaultProps={isShow:!1,totalPage:1,maxPage:1,pageNow:1,pageList:{i:0,a:[{t:10,v:10},{t:30,v:30},{t:50,v:50}]}},e.exports=w},846:function(e,t,s){"use strict";var a=s(520).default,i=s(521).default,o=s(558).default,n=s(559).default,p=s(595).default,r=s(299),l=function(e){function t(s){o(this,t);var a=n(this,e.call(this,s));return a.state={v:a.props.v},a.handleChange=a.handleChange.bind(a),a.handleBlur=a.handleBlur.bind(a),a.handleKeyUp=a.handleKeyUp.bind(a),a.handleFocus=a.handleFocus.bind(a),a._setPositiveInt=a._setPositiveInt.bind(a),a._setNaturalNum=a._setNaturalNum.bind(a),a._setMoney=a._setMoney.bind(a),a._setNum=a._setNum.bind(a),a}return p(t,e),t.prototype.componentWillReceiveProps=function(e){e.v!=this.state.v&&this.setState({v:e.v})},t.prototype._setPositiveInt=function(e){/^[1-9]\d*$/.test(e)&&this.setState({v:1*e})},t.prototype._setNaturalNum=function(e){/^\d*$/.test(e)&&this.setState({v:1*e})},t.prototype._setMoney=function(e){if(/^(\-)?(\d)*(\.)?(\d{0,2})$/.test(e)){var t="",s=e;0==e.indexOf("-")&&(t=e.slice(0,1),s=e.substring(1));var a=/\d{1,3}(?=(\d{3})+$)/g,i=s.replace(/^(\d+)((\.\d+)?)$/,function(e,t,s){return t.replace(a,"$&,")+s});this.setState({v:t+i})}},t.prototype._setNum=function(e){/^(\-)?(\d)*(\.)?\d*$/.test(e)&&this.setState({v:1*e})},t.prototype.handleChange=function(e){var t=e.srcElement?e.srcElement:e.target,s=t.value;if(""===s)this.setState({v:""});else if("money"===this.props.type){var a=s.replace(/\,/g,"");this.props.maxValue&&1*a>1*this.props.maxValue?this._setMoney(this.props.maxValue):this._setMoney(a)}else"positiveInt"===this.props.type?this.props.maxValue&&1*s>1*this.props.maxValue?this._setPositiveInt(this.props.maxValue):this._setPositiveInt(s):"naturalNum"===this.props.type?this.props.maxValue&&1*s>1*this.props.maxValue?this._setNaturalNum(this.props.maxValue):this._setNaturalNum(s):"number"===this.props.type&&(this.props.maxValue&&1*s>1*this.props.maxValue?this._setNum(this.props.maxValue):this._setNum(s));"function"==typeof this.props.onChange&&this.props.onChange(this)},t.prototype.handleBlur=function(e){if("money"===this.props.type){if(this.state.v)if("-"===this.state.v)this.setState({v:""});else{var t=this.state.v.replace(/\,/g,""),s=parseFloat(t).toFixed(2),a="",i=s;0==s.indexOf("-")&&(a=s.slice(0,1),i=s.substring(1));var o=/\d{1,3}(?=(\d{3})+$)/g,n=i.replace(/^(\d+)((\.\d+)?)$/,function(e,t,s){return t.replace(o,"$&,")+s});this.setState({v:a+n})}}else"number"===this.props.type&&"-"===this.state.v&&this.setState({v:""});"function"==typeof this.props.onBlur&&this.props.onBlur(this)},t.prototype.handleKeyUp=function(e){"function"==typeof this.props.onKeyUp&&this.props.onKeyUp(this)},t.prototype.handleFocus=function(e){"function"==typeof this.props.onFocus&&this.props.onFocus(this)},t.prototype.render=function(){var e=i({},this.props);return delete e.type,delete e.maxValue,delete e.v,r.createElement("input",a({},e,{type:"text",value:this.state.v,onKeyUp:this.handleKeyUp,onBlur:this.handleBlur,onFocus:this.handleFocus,onChange:this.handleChange}))},t}(r.Component);l.propTypes={type:r.PropTypes.string.isRequired},l.defaultProps={type:"text",className:"",v:"",maxValue:""},e.exports=l},847:function(e,t,s){"use strict";var a=s(774).default,i=s(777).default,o=s(776).default,n=s(558).default,p=s(559).default,r=s(595).default,l=s(299),c=s(799);s(848),c.defineReact(l);var h={pageNow:1,totalPage:10};sessionStorage&&sessionStorage.myApps&&(h=JSON.parse(sessionStorage.myApps),sessionStorage.removeItem("myApps"));var d=function(e){function t(){n(this,t);var s=p(this,e.call(this));return s.listenables=window.GLOBAL.action.myApps,s.state={pageNow:h.pageNow,totalPage:h.totalPage,delId:[],showDel:!1,showId:"",showTips:0,appId:"",eventType:0},s}return r(t,e),t.prototype.onInit=function(){this.setState({delId:[],showDel:!1,showId:"",showTips:0,appId:"",eventType:0})},t.prototype.onDel=function(e){for(var t=this.state.delId,s=0;s<t.length;s++)t[s]==e&&t.splice(s,1);t.length?this.setState({delId:t,showDel:!0}):this.setState({delId:t,showDel:!1})},t.prototype.onAdd=function(e){var t=this.state.delId;t.push(e);var s=[].concat(o(new i(t)));s.length?this.setState({delId:s,showDel:!0}):this.setState({delId:s,showDel:!1})},t.prototype.onSaveInfo=function(){sessionStorage.myApps=a({pageNow:this.state.pageNow,totalPage:this.state.totalPage})},t.prototype.onSubmit=function(e){this.setState({appId:e,eventType:1})},t.prototype.onCancel=function(e){this.setState({appId:e,eventType:2})},t.prototype.onShowTips=function(e,t){2===e||4===e?this.setState({delId:[t],showTips:e}):this.setState({showId:t,showTips:e})},t}(c.Store);window.GLOBAL.store.myApps=d},848:function(e,t,s){"use strict";var a=s(299),i=s(799);i.defineReact(a),window.GLOBAL.action.myApps=i.createActions(["del","add","saveInfo","showTips","init","submit","cancel"])}});