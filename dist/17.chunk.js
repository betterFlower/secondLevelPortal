webpackJsonp([17],{828:function(e,t,n){"use strict";var a=n(558).default,s=n(559).default,r=n(595).default,i=n(299),o=n(518),c=o.Button,p=function(e){function t(n){a(this,t);var r=s(this,e.call(this,n));return r.handleClick=r.handleClick.bind(r),r.handCancel=r.handCancel.bind(r),r}return r(t,e),t.prototype.handleClick=function(){"function"==typeof this.props.onSubmit&&this.props.onSubmit()},t.prototype.handCancel=function(){"function"==typeof this.props.onCancel&&this.props.onCancel()},t.prototype.render=function(){var e=this,t=[];return this.props.btns.length&&this.props.btns.map(function(n,a){t.push(i.createElement(c,{key:a,bsStyle:0===a?"primary":"default",onClick:n.type?e.handleClick:e.handCancel},n.text))}),i.createElement("div",{className:"tipsBg"},i.createElement("div",{className:"tipsBox"},i.createElement("div",{className:"tips "+this.props.className},i.createElement("div",{className:"tipsTitle"},this.props.title),i.createElement("div",{className:"tipsContext"},this.props.text),i.createElement("div",{className:"tipsBtnArea"},t))))},t}(i.Component);p.propTypes={className:i.PropTypes.string.isRequired,title:i.PropTypes.string.isRequired,text:i.PropTypes.string.isRequired,btns:i.PropTypes.array.isRequired},p.defaultProps={className:"",title:"提示",text:"",btns:[{text:"确定",type:1},{text:"取消",type:0}]},e.exports=p},829:function(e,t,n){!function(){var t=n(830),a=n(831).utf8,s=n(832),r=n(831).bin,i=function(e,n){e.constructor==String?e=n&&"binary"===n.encoding?r.stringToBytes(e):a.stringToBytes(e):s(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var o=t.bytesToWords(e),c=8*e.length,p=1732584193,l=-271733879,m=-1732584194,u=271733878,h=0;h<o.length;h++)o[h]=16711935&(o[h]<<8|o[h]>>>24)|4278255360&(o[h]<<24|o[h]>>>8);o[c>>>5]|=128<<c%32,o[(c+64>>>9<<4)+14]=c;for(var d=i._ff,y=i._gg,f=i._hh,A=i._ii,h=0;h<o.length;h+=16){var g=p,w=l,v=m,x=u;p=d(p,l,m,u,o[h+0],7,-680876936),u=d(u,p,l,m,o[h+1],12,-389564586),m=d(m,u,p,l,o[h+2],17,606105819),l=d(l,m,u,p,o[h+3],22,-1044525330),p=d(p,l,m,u,o[h+4],7,-176418897),u=d(u,p,l,m,o[h+5],12,1200080426),m=d(m,u,p,l,o[h+6],17,-1473231341),l=d(l,m,u,p,o[h+7],22,-45705983),p=d(p,l,m,u,o[h+8],7,1770035416),u=d(u,p,l,m,o[h+9],12,-1958414417),m=d(m,u,p,l,o[h+10],17,-42063),l=d(l,m,u,p,o[h+11],22,-1990404162),p=d(p,l,m,u,o[h+12],7,1804603682),u=d(u,p,l,m,o[h+13],12,-40341101),m=d(m,u,p,l,o[h+14],17,-1502002290),l=d(l,m,u,p,o[h+15],22,1236535329),p=y(p,l,m,u,o[h+1],5,-165796510),u=y(u,p,l,m,o[h+6],9,-1069501632),m=y(m,u,p,l,o[h+11],14,643717713),l=y(l,m,u,p,o[h+0],20,-373897302),p=y(p,l,m,u,o[h+5],5,-701558691),u=y(u,p,l,m,o[h+10],9,38016083),m=y(m,u,p,l,o[h+15],14,-660478335),l=y(l,m,u,p,o[h+4],20,-405537848),p=y(p,l,m,u,o[h+9],5,568446438),u=y(u,p,l,m,o[h+14],9,-1019803690),m=y(m,u,p,l,o[h+3],14,-187363961),l=y(l,m,u,p,o[h+8],20,1163531501),p=y(p,l,m,u,o[h+13],5,-1444681467),u=y(u,p,l,m,o[h+2],9,-51403784),m=y(m,u,p,l,o[h+7],14,1735328473),l=y(l,m,u,p,o[h+12],20,-1926607734),p=f(p,l,m,u,o[h+5],4,-378558),u=f(u,p,l,m,o[h+8],11,-2022574463),m=f(m,u,p,l,o[h+11],16,1839030562),l=f(l,m,u,p,o[h+14],23,-35309556),p=f(p,l,m,u,o[h+1],4,-1530992060),u=f(u,p,l,m,o[h+4],11,1272893353),m=f(m,u,p,l,o[h+7],16,-155497632),l=f(l,m,u,p,o[h+10],23,-1094730640),p=f(p,l,m,u,o[h+13],4,681279174),u=f(u,p,l,m,o[h+0],11,-358537222),m=f(m,u,p,l,o[h+3],16,-722521979),l=f(l,m,u,p,o[h+6],23,76029189),p=f(p,l,m,u,o[h+9],4,-640364487),u=f(u,p,l,m,o[h+12],11,-421815835),m=f(m,u,p,l,o[h+15],16,530742520),l=f(l,m,u,p,o[h+2],23,-995338651),p=A(p,l,m,u,o[h+0],6,-198630844),u=A(u,p,l,m,o[h+7],10,1126891415),m=A(m,u,p,l,o[h+14],15,-1416354905),l=A(l,m,u,p,o[h+5],21,-57434055),p=A(p,l,m,u,o[h+12],6,1700485571),u=A(u,p,l,m,o[h+3],10,-1894986606),m=A(m,u,p,l,o[h+10],15,-1051523),l=A(l,m,u,p,o[h+1],21,-2054922799),p=A(p,l,m,u,o[h+8],6,1873313359),u=A(u,p,l,m,o[h+15],10,-30611744),m=A(m,u,p,l,o[h+6],15,-1560198380),l=A(l,m,u,p,o[h+13],21,1309151649),p=A(p,l,m,u,o[h+4],6,-145523070),u=A(u,p,l,m,o[h+11],10,-1120210379),m=A(m,u,p,l,o[h+2],15,718787259),l=A(l,m,u,p,o[h+9],21,-343485551),p=p+g>>>0,l=l+w>>>0,m=m+v>>>0,u=u+x>>>0}return t.endian([p,l,m,u])};i._ff=function(e,t,n,a,s,r,i){var o=e+(t&n|~t&a)+(s>>>0)+i;return(o<<r|o>>>32-r)+t},i._gg=function(e,t,n,a,s,r,i){var o=e+(t&a|n&~a)+(s>>>0)+i;return(o<<r|o>>>32-r)+t},i._hh=function(e,t,n,a,s,r,i){var o=e+(t^n^a)+(s>>>0)+i;return(o<<r|o>>>32-r)+t},i._ii=function(e,t,n,a,s,r,i){var o=e+(n^(t|~a))+(s>>>0)+i;return(o<<r|o>>>32-r)+t},i._blocksize=16,i._digestsize=16,e.exports=function(e,n){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var a=t.wordsToBytes(i(e,n));return n&&n.asBytes?a:n&&n.asString?r.bytesToString(a):t.bytesToHex(a)}}()},830:function(e,t){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,a=0;n<e.length;n++,a+=8)t[a>>>5]|=e[n]<<24-a%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],a=0;a<e.length;a+=3)for(var s=e[a]<<16|e[a+1]<<8|e[a+2],r=0;r<4;r++)8*a+6*r<=8*e.length?n.push(t.charAt(s>>>6*(3-r)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],a=0,s=0;a<e.length;s=++a%4)0!=s&&n.push((t.indexOf(e.charAt(a-1))&Math.pow(2,-2*s+8)-1)<<2*s|t.indexOf(e.charAt(a))>>>6-2*s);return n}};e.exports=n}()},831:function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},832:function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function a(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}/*!
	 * Determine if an object is a Buffer
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
e.exports=function(e){return null!=e&&(n(e)||a(e)||!!e._isBuffer)}},851:function(e,t,n){"use strict";var a=n(558).default,s=n(559).default,r=n(595).default,i=n(299),o=n(463),c=o.Link,p=o.hashHistory,l=n(518),m=l.Button,u=(l.ButtonToolbar,l.DropdownButton,l.Dropdown),h=l.MenuItem,d=n(828),y=n(829),f=function(e){function t(n){a(this,t);var r=s(this,e.call(this,n));return r.state={name:"",category:1,status:0,text:"",type:0,secretKey:"",apiKey:"",s0:!1,s1:!1,showTips:!1},r.goToBack=r.goToBack.bind(r),r.getInfo=r.getInfo.bind(r),r.showOrHidApiKey=r.showOrHidApiKey.bind(r),r.showOrHidSecretKey=r.showOrHidSecretKey.bind(r),r.reSecretKey=r.reSecretKey.bind(r),r.submit=r.submit.bind(r),r.changeSecretKey=r.changeSecretKey.bind(r),r.handleCancel=r.handleCancel.bind(r),r.checkAppName=r.checkAppName.bind(r),r.checkAppText=r.checkAppText.bind(r),r.setAppName=r.setAppName.bind(r),r.setAppText=r.setAppText.bind(r),r.selectCategory=r.selectCategory.bind(r),r}return r(t,e),t.prototype.componentWillMount=function(){window.GLOBAL.promise.checkAppName||(window.GLOBAL.promise.checkAppName=$.Deferred())},t.prototype.componentWillUnmount=function(){window.GLOBAL.promise&&window.GLOBAL.promise.checkAppName&&delete window.GLOBAL.promise.checkAppName},t.prototype.componentDidMount=function(){this.getInfo(this.props.params.appsId)},t.prototype.goToBack=function(){p.goBack()},t.prototype.getInfo=function(e){window.GLOBAL.ajaxMap.setParm("myAppDetail","appId",e);var t=window.GLOBAL.ajaxMap.getAjaxParms("myAppDetail");t.success=function(e){this.setState({name:e.name,category:e.category,status:e.status,text:e.des,apiKey:e.apiKey,secretKey:e.secretKey})}.bind(this),$.ajax(t)},t.prototype.showOrHidApiKey=function(){this.state.s0?this.setState({s0:!1}):this.setState({s0:!0})},t.prototype.showOrHidSecretKey=function(){this.state.s1?this.setState({s1:!1}):this.setState({s1:!0})},t.prototype.reSecretKey=function(){this.setState({showTips:!0})},t.prototype.submit=function(){var e=!0;window.GLOBAL.checkFun.isNotEmpty($(".myAppsModify .appText"),$(".myAppsModify .appText").parent().siblings(".errorTips"))||(e=!1),e&&(window.GLOBAL.promise.checkAppName=$.Deferred(),this.checkAppName(),$.when(window.GLOBAL.promise.checkAppName).done(function(e){if(e.code){var t={appId:this.props.params.appsId,name:this.state.name,category:this.state.category,des:this.state.text,apiKey:this.state.apiKey,secretKey:this.state.secretKey,token:window.GLOBAL.token,key1:y(this.props.params.appsId+this.state.name+this.state.text+this.state.apiKey+this.state.secretKey+window.GLOBAL.token+"devPortal")};window.GLOBAL.ajaxMap.setParms("addMyApp",t);var n=window.GLOBAL.ajaxMap.getAjaxParms("addMyApp");n.success=function(e){3===e.code?window.GLOBAL.ajaxMap.checkError(e.codeStatus,p):e.code&&this.goToBack()}.bind(this),$.ajax(n)}}.bind(this)))},t.prototype.changeSecretKey=function(){var e={appId:this.props.params.appsId,token:window.GLOBAL.token};window.GLOBAL.ajaxMap.setParms("reSecretKey",e);var t=window.GLOBAL.ajaxMap.getAjaxParms("reSecretKey");t.success=function(e){3===e.code?window.GLOBAL.ajaxMap.checkError(e.codeStatus,p):e.code&&this.setState({secretKey:e.secretKey,showTips:!1})}.bind(this),$.ajax(t)},t.prototype.handleCancel=function(){this.setState({showTips:!1})},t.prototype.checkAppName=function(){var e=window.GLOBAL.checkFun.isAppName($(".myAppsModify .appName"),$(".myAppsModify .appName").siblings(".errorTips"));if(e){var t={appId:this.props.params.appsId,appName:this.state.name,token:window.GLOBAL.token};window.GLOBAL.ajaxMap.setParms("checkAppName",t);var n=window.GLOBAL.ajaxMap.getAjaxParms("checkAppName");n.success=function(e){window.GLOBAL.promise.checkAppName.resolve(e),0==e.code&&$(".myAppsModify .appName").siblings(".errorTips").html("* 应用名称不唯一")}.bind(this),$.ajax(n)}},t.prototype.checkAppText=function(){window.GLOBAL.checkFun.isNotEmpty($(".myAppsModify .appText"),$(".myAppsModify .appText").parent().siblings(".errorTips"))},t.prototype.setAppName=function(e){var t=e.srcElement?e.srcElement:e.target,n=t.value;this.setState({name:n})},t.prototype.setAppText=function(e){var t=e.srcElement?e.srcElement:e.target,n=t.value;this.setState({text:n})},t.prototype.selectCategory=function(e){var t=1*e;this.setState({category:window.GLOBAL.pageData.myApps.category[t].value})},t.prototype.render=function(){var e=this,t=window.GLOBAL.pageData.myApps,n="";t.category.map(function(t,a){t.value===e.state.category&&(n=t.text)});var a=void 0;return this.state.showTips&&(a=i.createElement(d,{className:t.reSecretKey.className,onSubmit:this.changeSecretKey,onCancel:this.handleCancel,text:t.reSecretKey.text})),i.createElement("div",{className:"myAppsModify"},i.createElement("div",{className:"MainTitle"},i.createElement("h1",null,t.myAppsModify.title),i.createElement(c,{to:"/myApps",role:"button",className:"btn btn-default backBtn"},"返回")),i.createElement("div",{className:"whiteSpace"},i.createElement("div",{className:"inputLine"},i.createElement("span",{className:"block fl"},"应用名称："),i.createElement("input",{className:"appName fl",type:"text",maxLength:t.myAppsModify.name.maxLength,onChange:this.setAppName,value:this.state.name,onBlur:this.checkAppName}),i.createElement("span",{className:"errorTips fl"})),i.createElement("div",{className:"inputLine"},i.createElement("span",{className:"block fl"},"鉴权策略："),i.createElement(u,{id:"searchItem"},i.createElement(u.Toggle,null,i.createElement("span",{className:"text",style:{width:"100px"}},n)),i.createElement(u.Menu,null,t.category.map(function(t,n){return i.createElement(h,{eventKey:n,key:n,onSelect:e.selectCategory},t.text)})))),i.createElement("div",{className:"inputLine"},i.createElement("span",{className:"block fl"},"状态："),i.createElement("span",{className:"fl"},t.status.map(function(t,n){return t.value===e.state.status?t.text:""}))),i.createElement("div",{className:"inputLine"},i.createElement("span",{className:"block fl"},"应用描述："),i.createElement("div",{className:"textArea fl"},i.createElement("div",{className:"heightAuto"},this.state.text),i.createElement("textarea",{className:"appText",maxLength:t.myAppsModify.text.maxLength,onChange:this.setAppText,onBlur:this.checkAppText,value:this.state.text})),i.createElement("span",{className:"errorTips fl"})),i.createElement("div",{className:"inputLine"},i.createElement("div",{className:"t1 fl"},"API Key："),i.createElement("div",{className:"t2 fl",style:{maxWidth:"280px",overflow:"hidden"}},this.state.s0?this.state.apiKey:t.hid),i.createElement("div",{className:this.state.s0?"icon-eye fl":"icon-eye-close fl",onClick:this.showOrHidApiKey})),i.createElement("br",null),i.createElement("div",{className:"inputLine"},i.createElement("div",{className:"t1 fl"},"Secret Key："),i.createElement("div",{className:"t2 fl",style:{maxWidth:"280px",overflow:"hidden"}},this.state.s1?this.state.secretKey:t.hid),i.createElement("div",{className:this.state.s1?"icon-eye fl":"icon-eye-close fl",onClick:this.showOrHidSecretKey}),i.createElement("div",{className:"icon-reApiKey fl",onClick:this.reSecretKey})),i.createElement(m,{className:"submit",bsStyle:"primary",onClick:this.submit},"修改"),i.createElement(m,{onClick:this.goToBack},"取消")),a)},t}(i.Component);e.exports=f}});