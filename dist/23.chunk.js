webpackJsonp([23],{976:function(e,t,a){"use strict";var s=a(560).default,l=a(558).default,i=a(559).default,c=a(595).default,m=a(299),n=a(463),r=n.hashHistory,d=a(518),o=d.Table,u=d.Button,h=d.Row,E=d.Col,v=function(e){function t(a){l(this,t);var s=i(this,e.call(this,a));return s.state={status:"",times:[],validity:"",ability:"",levelText:"",APIType:"",data:{},APIData:[]},s.goToBack=s.goToBack.bind(s),s}return c(t,e),t.prototype.componentDidMount=function(){var e={orderId:this.props.params.orderId,token:window.GLOBAL.token};window.GLOBAL.ajaxMap.setParms("orderItemDetail",e);var t=window.GLOBAL.ajaxMap.getAjaxParms("orderItemDetail");t.success=function(e){this.setState({status:e.status,times:e.times,validity:e.validity,ability:e.ability,levelText:e.levelText,APIType:e.APIType,data:e.data})}.bind(this),$.ajax(t);var a={orderId:this.props.params.orderId,token:window.GLOBAL.token};window.GLOBAL.ajaxMap.setParms("abilityAPIData",a);var s=window.GLOBAL.ajaxMap.getAjaxParms("abilityAPIData");s.success=function(e){this.setState({APIData:e.data})}.bind(this),$.ajax(s)},t.prototype.goToBack=function(){r.goBack()},t.prototype.render=function(){var e=this,t=window.GLOBAL.pageData.orderManage.orderItemDetail;return console.log(this.state.times.length),m.createElement("div",{className:"orderItemDetail"},m.createElement("div",{className:"MainTitle"},m.createElement("h1",null,t.title),m.createElement(u,{className:"backBtn",onClick:this.goToBack},"返回")),m.createElement("div",{className:"whiteSpace"},this.state.times&&4===this.state.times.length?m.createElement("ul",{className:"bigCircleProgress"},m.createElement("li",{className:this.state.times&&this.state.times[0]?"bigCircle select":"bigCircle"},m.createElement("div",{className:"text"},"申请订单"),m.createElement("div",{className:"num"},"1"),m.createElement("div",{className:"circleSmall"},m.createElement("div",null),m.createElement("div",null),m.createElement("div",null)),m.createElement("div",{className:"underTips"},this.state.times&&this.state.times[0]?this.state.times[0]:"")),m.createElement("li",{className:this.state.times&&this.state.times[1]?"bigCircle select":"bigCircle"},m.createElement("div",{className:"text"},"订购订单"),m.createElement("div",{className:"num"},"2"),m.createElement("div",{className:"underTips"},this.state.times&&this.state.times[1]?this.state.times[1]:""),m.createElement("div",{className:"circleSmall"},m.createElement("div",null),m.createElement("div",null),m.createElement("div",null))),m.createElement("li",{className:this.state.times&&this.state.times[2]&&(2===this.state.status||3===this.state.status)?"bigCircle select":"bigCircle"},m.createElement("div",{className:"text"},"申请退订"),m.createElement("div",{className:"num"},"3"),m.createElement("div",{className:"underTips"},this.state.times&&this.state.times[2]?this.state.times[2]:""),m.createElement("div",{className:"circleSmall"},m.createElement("div",null),m.createElement("div",null),m.createElement("div",null))),m.createElement("li",{className:this.state.times&&this.state.times[3]&&2===this.state.status?"bigCircle select":"bigCircle"},m.createElement("div",{className:"text"},"订单失效"),m.createElement("div",{className:"num"},"4"),m.createElement("div",{className:"underTips"},this.state.times&&this.state.times[3]?this.state.times[3]:""))):m.createElement("ul",{className:"bigCircleProgress"},m.createElement("li",{className:this.state.times&&this.state.times[0]?"bigCircle select":"bigCircle"},m.createElement("div",{className:"text"},"申请订单"),m.createElement("div",{className:"num"},"1"),m.createElement("div",{className:"circleSmall"},m.createElement("div",null),m.createElement("div",null),m.createElement("div",null)),m.createElement("div",{className:"underTips"},this.state.times&&this.state.times[0]?this.state.times[0]:"")),m.createElement("li",{className:this.state.times&&this.state.times[1]?"bigCircle select":"bigCircle"},m.createElement("div",{className:"text"},"订购订单"),m.createElement("div",{className:"num"},"2"),m.createElement("div",{className:"underTips"},this.state.times&&this.state.times[1]?this.state.times[1]:""),m.createElement("div",{className:"circleSmall"},m.createElement("div",null),m.createElement("div",null),m.createElement("div",null))),m.createElement("li",{className:this.state.times&&this.state.times[2]&&2===this.state.status?"bigCircle select":"bigCircle"},m.createElement("div",{className:"text"},"订单失效"),m.createElement("div",{className:"num"},"3"),m.createElement("div",{className:"underTips"},this.state.times&&this.state.times[2]?this.state.times[2]:""))),m.createElement(h,null,m.createElement(E,{xs:5},"订单编号: ",this.props.params.orderId),m.createElement(E,{xs:4},"订单状态: ",window.GLOBAL.pageData.orderManage.status.map(function(t,a){if(t.value===e.state.status)return t.text})),m.createElement(E,{xs:3},"有效期: ",this.state.validity)),m.createElement(h,null,m.createElement(E,{xs:5},"所属应用: ",this.state.ability),m.createElement(E,{xs:4},"所属API集: ",this.state.levelText),m.createElement(E,{xs:3},"所属API类: ",this.state.APIType)),m.createElement(h,null,m.createElement(E,{xs:12},"有效时间: ",3===this.state.times.length?this.state.times[1]+" - "+this.state.times[2]:4===this.state.times.length?this.state.times[1]+" - "+this.state.times[3]:"--")),m.createElement(o,{striped:!0,hover:!0,responsive:!0,className:"basicList",style:{borderTop:"1px solid #ddd"}},m.createElement("thead",null,m.createElement("tr",null,t.listTitle.map(function(e,t){return m.createElement("th",{className:"th"+t,key:t},e)}))),m.createElement("tbody",null,m.createElement("tr",{key:0},t.showKey.map(function(t,a){return m.createElement("td",{key:a,className:"th"+a},"[object Array]"===Object.prototype.toString.call(e.state.data[t])?e.state.data[t].map(function(e,t){return m.createElement("div",{className:"line",key:t},e)}):m.createElement("div",{className:"ShowTxt"},e.state.data[t]))})))),this.state.APIData.length>0?m.createElement("div",{className:"title"},"API产品配置"):"",this.state.APIData.map(function(e,t){return 0===e.type?m.createElement("div",{key:t,className:"fl",style:{width:"100%"}},e.text,e.value):1===e.type?m.createElement("div",{key:t,className:"fl",style:{width:"50%"}},e.text,e.child.map(function(t,a){return t.value===e.value?t.text:""}).toString().replace(/\,/g,"")):2===e.type?m.createElement("div",{key:t,className:"fl",style:{width:"100%"}},m.createElement("span",{className:"fl"},e.text),m.createElement("span",{className:"fl",style:{display:"block",maxWidth:"700px",wordBreak:"break-all"}},e.child.map(function(t,a){return e.value.find(function(e){return e===t.value})?t.text+"、":""}).toString().replace(/\,/g,"").split("").reverse().toString().substring(1).split("").reverse().toString().replace(/\,/g,""))):3===e.type?"object"===s(e.value)&&"[object Array]"===Object.prototype.toString.call(e.value)?m.createElement("div",{key:t,className:"fl",style:{width:"100%"}},m.createElement("span",{className:"fl"},e.text),m.createElement("div",{className:"fl",style:{display:"block",maxWidth:"700px",wordBreak:"break-all"}},e.value.map(function(e,t){return m.createElement("div",{key:t,className:"fl"},m.createElement("span",{className:"fl text"},e.text),m.createElement("span",{className:"fl icon icon-APIData-"+e.icon}),m.createElement("span",{className:"fl text"},"；"))}))):m.createElement("div",{key:t,className:"fl",style:{width:"100%"}},m.createElement("span",{className:"fl"},e.text),m.createElement("span",{className:"fl",style:{display:"block",maxWidth:"700px",wordBreak:"break-all"}},e.value)):4===e.type?m.createElement("div",{key:t,className:"fl",style:{width:"100%"}},e.text,e.value?e.value.split("/")[e.value.split("/").length-1]:"",m.createElement("a",{target:"_blank",role:"button",className:"btn btn-default",href:e.value,download:!0},"下载文件")):""})))},t}(m.Component);e.exports=v}});